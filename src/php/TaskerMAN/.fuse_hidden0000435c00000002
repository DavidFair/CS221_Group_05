<?php
/**
 *   PDO Connect module for TaskerMAN
 *   @author Oliver Earl
 *
 *   This file should be included into init.php to provide access to the database
 *   Accessible program-wide under $pdo
 **/
include('init.php');

// Activate PDO
$pdo = configureDatabase($db_config);

function configureDatabase($databaseConf)
{
    try
    {
        // Declare data source name
        $dsn = "mysql:host=
        // Instantiate PDO object
        $pdo = new PDO($dsn, $username, $password);
        // Set error mode exceptions for PDO
        $pdo -> setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        // Return PDO for access
        return $pdo;
    }
    catch (PDOException $ex)
    {
        // Call error handler and die
        errorHandler($ex->getMessage(), "Database Error", LOGFILE, timePrint());
        die();
    }
}
